(this["webpackJsonpfunbox-test-app"]=this["webpackJsonpfunbox-test-app"]||[]).push([[0],{45:function(e,t,n){e.exports=n(57)},50:function(e,t,n){},51:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),i=(n(50),n(51),n(85)),l=n(59),u=n(83),s=n(91),m=n(82),d=n(39),p=n.n(d),f=Object(l.a)((function(){return{typographyStyles:{flex:1}}}));var g=function(){var e=f();return r.a.createElement(s.a,{position:"static"},r.a.createElement(m.a,null,r.a.createElement(u.a,{className:e.typographyStyles},"Art_Map"),r.a.createElement(p.a,{fontSize:"large"})))},b=n(84),E=n(10),y=n(87),v=n(14),h=n(89),x=r.a.createContext(),O=function(){return Object(a.useContext)(x)};function j(e){var t=e.children,n=Object(a.useState)(""),o=Object(v.a)(n,2),c=o[0],i=o[1],l=Object(a.useState)([]),u=Object(v.a)(l,2),s=u[0],m=u[1],d=Object(a.useState)(""),p=Object(v.a)(d,2),f=p[0],g=p[1],b=Object(a.useState)(null),y=Object(v.a)(b,2),O=y[0],j=y[1],C=Object(a.useRef)(null),k=Object(a.useRef)(null),P=Object(a.useState)(null),S=Object(v.a)(P,2),L=S[0],I=S[1];return r.a.createElement(x.Provider,{value:{currentPoint:c,setCurrentPoint:i,pointsList:s,setPointsList:m,searchInputValue:f,setSearchInputValue:g,addPointToList:function(e,t){m((function(n){return[].concat(Object(E.a)(n),[{id:Object(h.a)(),coords:e,locateName:t}])}))},pointsListChangeHandler:function(e,t,n){m((function(a){return a.map((function(a){return a.id===e?{id:e,coords:t,locateName:n}:a}))}))},deletePoint:function(e){m((function(t){return t.filter((function(t){return t.id!==e}))}))},inputChangeHandler:function(e){g(e.target.value)},inputClearHandler:function(){g("")},ymaps:O,setYmaps:j,polyline:C,searchInputRef:k,myMapRef:function(e){e&&(j(e),e.events.add("click",(function(t){e.balloon.close()})))},map:L,setMap:I}},t)}var C=n(29),k=n(92),P=n(86),S=n(41),L=n.n(S),I=n(22),N=Object(b.a)((function(e){return{root:{flexGrow:1,marginLeft:e.spacing(0),"&:hover":{backgroundColor:"rgb(231, 190, 250)"}},idx:{marginRight:e.spacing(2)}}}));function R(e){var t=e.point,n=e.idx,a=N(e),o=O(),c=o.deletePoint,l=o.map;return r.a.createElement(I.b,{draggableId:t.id,key:t.id,index:n},(function(e,o){return r.a.createElement(k.a,Object.assign({className:a.root,ref:e.innerRef},e.draggableProps,e.dragHandleProps,{style:(s=o.isDragging,m=e.draggableProps.style,Object(C.a)(Object(C.a)({},m),s&&{background:"rgb(231, 190, 250)"})),divider:!0}),r.a.createElement(i.a,{container:!0,spacing:3},r.a.createElement(i.a,{item:!0,xs:1},r.a.createElement(u.a,{variant:"body1",color:"textPrimary",component:"p"},n+1)),r.a.createElement(i.a,{item:!0,xs:8,onClick:function(){return l.panTo(t.coords)}},r.a.createElement(u.a,{variant:"body1",color:"textPrimary",component:"p"},t.locateName),r.a.createElement(u.a,{variant:"body2",color:"textSecondary",component:"p"},t.coords[0]),r.a.createElement(u.a,{variant:"body2",color:"textSecondary",component:"p"},t.coords[1])),r.a.createElement(i.a,{item:!0,xs:3},r.a.createElement(P.a,{onClick:function(){return c(t.id)},edge:"end","aria-label":"delete",color:"secondary"},r.a.createElement(L.a,null)))));var s,m}))}var w=Object(b.a)((function(e){return{root:{maxWidth:"90%",marginTop:20,padding:0,position:"relative",overflow:"auto",maxHeight:500,backgroundColor:"#E6E6FA"}}}));function H(){var e=w(),t=O(),n=t.pointsList,a=t.setPointsList;return r.a.createElement("div",null,r.a.createElement(I.a,{onDragEnd:function(e){var t=e.destination,r=e.source;if(t&&(t.droppableId!==r.droppableId||t.index!==r.index)){var o=n,c=o.splice(r.index,1);o.splice(t.index,0,c[0]),a((function(e){return Object(E.a)(o)}))}}},r.a.createElement(I.c,{droppableId:"myList"},(function(t){return r.a.createElement(y.a,Object.assign({ref:t.innerRef},t.droppableProps,{component:"nav",className:e.root}),n.map((function(e,t){return r.a.createElement(R,{key:e.id,point:e,idx:t})})),t.placeholder)}))))}var T=n(17),V=Object(b.a)((function(e){return{root:{width:"100%",height:"100%",padding:0,margin:0}}})),A={center:[59.93585,30.315635],zoom:10,controls:["zoomControl"]},D={geometry:{type:"point",coordinates:[]},options:{draggable:!0}};function M(){var e=V(),t=O(),n=t.pointsList,a=t.pointsListChangeHandler,o=t.ymaps,c=t.setYmaps,i=t.polyline,l=t.setSearchInputValue,u=t.setMap,s=t.searchInputRef;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{instanceRef:function(e){try{e.behaviors.disable("scrollZoom")}catch(t){console.log(t)}u(e)},className:e.root,defaultState:A,modules:["control.ZoomControl","SuggestView"],onLoad:function(e){c(e),new e.SuggestView(s.current.id).events.add("select",(function(e){l(e.get("item").value),s.current.focus()}))}},n.map((function(e,t){return r.a.createElement(T.b,{key:e.id,geometry:e.coords,properties:{balloonContentHeader:t+1,balloonContentBody:"x: ".concat(e.coords[0],", y: ").concat(e.coords[1]),iconContent:t+1},options:D.options,onDragEnd:function(t){var n=t.get("target").geometry.getCoordinates();o.geocode(n).then((function(t){var r=t.geoObjects.get(0).getAddressLine();a(e.id,n,r)}))}})})),r.a.createElement(T.c,{geometry:n.map((function(e){return e.coords})),instanceRef:i,options:{balloonCloseButton:!1,strokeColor:"#000",strokeWidth:4,strokeOpacity:.5}})))}var z=n(88),B=Object(l.a)((function(e){return{root:{marginTop:20,marginLeft:20},input:{width:"80%"}}}));function F(e){e.locateName,e.onChange,e.onAdd;var t=B(),n=O(),a=n.setCurrentPoint,o=n.addPointToList,c=n.ymaps,i=n.searchInputRef,l=n.searchInputValue,u=n.inputClearHandler,s=n.inputChangeHandler,m=n.map;return r.a.createElement("div",null,r.a.createElement("form",{className:t.root,noValidate:!0,autoComplete:"off"},r.a.createElement(z.a,{id:"mySuggest",className:t.input,onChange:s,value:l,inputRef:i,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448 \u0430\u0434\u0440\u0435\u0441 + Enter",inputProps:{"aria-label":"description"},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),c.geocode(e.target.value).then((function(e){var t=e.geoObjects.get(0).geometry.getCoordinates(),n=e.geoObjects.get(0).getAddressLine();a(t),o(t,n),m.panTo(t)})),u())}})))}var G=Object(b.a)((function(e){return{root:{flexGrow:1,marginTop:40,height:600},myTitle:{textAlign:"center"}}}));function J(){var e=G();return r.a.createElement(T.d,{query:{load:"package.full",apikey:"ae030262-3ac2-4dbc-84f7-8d851146cd07"}},r.a.createElement(j,null,r.a.createElement(i.a,{className:e.root,container:!0},r.a.createElement(i.a,{container:!0},r.a.createElement(i.a,{item:!0,xs:!0,sm:4},r.a.createElement(u.a,{variant:"h6",className:e.myTitle},"\u041c\u043e\u0439 \u043c\u0430\u0440\u0448\u0440\u0443\u0442"),r.a.createElement(F,null),r.a.createElement(H,null)),r.a.createElement(i.a,{item:!0,xs:12,sm:8},r.a.createElement(M,null))))))}function W(){return r.a.createElement(i.a,{container:!0,direction:"column"},r.a.createElement(i.a,{item:!0},r.a.createElement(g,null)),r.a.createElement(i.a,{item:!0,container:!0},r.a.createElement(i.a,{item:!0,xs:!1,md:1}),r.a.createElement(i.a,{item:!0,xs:12,md:10},r.a.createElement(J,null)),r.a.createElement(i.a,{item:!0,xs:!1,md:1})))}var Y=function(){return r.a.createElement(W,null)};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.30ce4ef4.chunk.js.map